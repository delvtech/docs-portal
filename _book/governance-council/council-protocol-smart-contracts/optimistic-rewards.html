
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Optimistic Rewards Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="simple-proxy.html" />
    
    
    <link rel="prev" href="optimistic-grants.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Element Documentation Portal
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Getting Started</li>
        
        
    
        <li class="chapter " data-level="2.1" >
            
                <a target="_blank" href="http://element.fi">
            
                    
                    Element Mainnet App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" >
            
                <a target="_blank" href="https://testnet.element.fi">
            
                    
                    Element Testnet App
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../../getting-started/faq/">
            
                <a href="../../getting-started/faq/">
            
                    
                    FAQ
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.3.1" data-path="../../getting-started/faq/earning-variable-rates.html">
            
                <a href="../../getting-started/faq/earning-variable-rates.html">
            
                    
                    Earning Variable Rates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.2" data-path="../../getting-started/faq/buying-fixed-rates.html">
            
                <a href="../../getting-started/faq/buying-fixed-rates.html">
            
                    
                    Buying Fixed Rate Assets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3.3" data-path="../../getting-started/faq/providing-liquidity.html">
            
                <a href="../../getting-started/faq/providing-liquidity.html">
            
                    
                    Providing Liquidity
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../../getting-started/glossary.html">
            
                <a href="../../getting-started/glossary.html">
            
                    
                    Glossary
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Element Protocol</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../../element/concepts-overview.html">
            
                <a href="../../element/concepts-overview.html">
            
                    
                    Concepts Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../../element/principal-tokens/">
            
                <a href="../../element/principal-tokens/">
            
                    
                    Principal Tokens
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.2.1" data-path="../../element/principal-tokens/use-cases.html">
            
                <a href="../../element/principal-tokens/use-cases.html">
            
                    
                    Use Cases
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../../element/yield-tokens/">
            
                <a href="../../element/yield-tokens/">
            
                    
                    Yield Tokens
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.3.1" data-path="../../element/yield-tokens/use-cases.html">
            
                <a href="../../element/yield-tokens/use-cases.html">
            
                    
                    Use Cases
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../../element/market-forces.html">
            
                <a href="../../element/market-forces.html">
            
                    
                    Market Forces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../../element/providing-liquidity.html">
            
                <a href="../../element/providing-liquidity.html">
            
                    
                    Providing Liquidity
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../../element/element-smart-contracts/">
            
                <a href="../../element/element-smart-contracts/">
            
                    
                    Element Protocol Smart Contracts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1" data-path="../../element/element-smart-contracts/core-protocol-contracts/">
            
                <a href="../../element/element-smart-contracts/core-protocol-contracts/">
            
                    
                    Core Protocol Contracts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.1.1" data-path="../../element/element-smart-contracts/core-protocol-contracts/wrapped-position.html">
            
                <a href="../../element/element-smart-contracts/core-protocol-contracts/wrapped-position.html">
            
                    
                    Wrapped Position
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.1.2" data-path="../../element/element-smart-contracts/core-protocol-contracts/tranche.html">
            
                <a href="../../element/element-smart-contracts/core-protocol-contracts/tranche.html">
            
                    
                    Tranche
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.1.3" data-path="../../element/element-smart-contracts/core-protocol-contracts/tranche-factory.html">
            
                <a href="../../element/element-smart-contracts/core-protocol-contracts/tranche-factory.html">
            
                    
                    Tranche Factory
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.1.4" data-path="../../element/element-smart-contracts/core-protocol-contracts/interest-token.html">
            
                <a href="../../element/element-smart-contracts/core-protocol-contracts/interest-token.html">
            
                    
                    Interest Token
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.1.5" data-path="../../element/element-smart-contracts/core-protocol-contracts/user-proxy.html">
            
                <a href="../../element/element-smart-contracts/core-protocol-contracts/user-proxy.html">
            
                    
                    User Proxy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.6.2" data-path="../../element/element-smart-contracts/integration-contracts/">
            
                <a href="../../element/element-smart-contracts/integration-contracts/">
            
                    
                    Integration Contracts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.2.1" data-path="../../element/element-smart-contracts/integration-contracts/yearn-vault-asset-proxy.html">
            
                <a href="../../element/element-smart-contracts/integration-contracts/yearn-vault-asset-proxy.html">
            
                    
                    Yearn Vault Asset Proxy
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="3.6.3" data-path="../../element/element-smart-contracts/custom-balancer-curve/">
            
                <a href="../../element/element-smart-contracts/custom-balancer-curve/">
            
                    
                    Custom Balancer Curve
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="3.6.3.1" data-path="../../element/element-smart-contracts/custom-balancer-curve/convergent-curve-pool.html">
            
                <a href="../../element/element-smart-contracts/custom-balancer-curve/convergent-curve-pool.html">
            
                    
                    Convergent Curve Pool
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6.3.2" data-path="../../element/element-smart-contracts/custom-balancer-curve/convergent-curve-pool-factory.html">
            
                <a href="../../element/element-smart-contracts/custom-balancer-curve/convergent-curve-pool-factory.html">
            
                    
                    Convergent Curve Pool Factory
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    
        
        <li class="header">Developers</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../../developers/public-releases.html">
            
                <a href="../../developers/public-releases.html">
            
                    
                    Public Release Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" >
            
                <a target="_blank" href="https://github.com/element-fi/elf-sdk">
            
                    
                    Element SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" >
            
                <a target="_blank" href="https://github.com/element-fi/elf-deploy">
            
                    
                    Deployment Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../../developers/security/">
            
                <a href="../../developers/security/">
            
                    
                    Security
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.4.1" >
            
                <a target="_blank" href="https://immunefi.com/bounty/elementfinance/">
            
                    
                    Immunefi Program
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.2" data-path="../../developers/security/admin-keys.html">
            
                <a href="../../developers/security/admin-keys.html">
            
                    
                    Admin Keys
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4.3" data-path="../../developers/security/oracles.html">
            
                <a href="../../developers/security/oracles.html">
            
                    
                    Oracles
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.5" >
            
                <a target="_blank" href="https://github.com/element-fi">
            
                    
                    Github
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.6" >
            
                <a target="_blank" href="https://paper.element.fi">
            
                    
                    Construction Paper
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Governance (Council)</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="./">
            
                <a href="./">
            
                    
                    Council Protocol Smart Contracts
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.1" data-path="core-voting.html">
            
                <a href="core-voting.html">
            
                    
                    Core Voting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2" data-path="voting-vaults/">
            
                <a href="voting-vaults/">
            
                    
                    Voting Vaults
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="5.1.2.1" data-path="voting-vaults/locking-vault.html">
            
                <a href="voting-vaults/locking-vault.html">
            
                    
                    Locking Vault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2.2" data-path="voting-vaults/vesting-vault.html">
            
                <a href="voting-vaults/vesting-vault.html">
            
                    
                    Vesting Vault
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.2.3" data-path="voting-vaults/governance-steering-council-gsc-vault.html">
            
                <a href="voting-vaults/governance-steering-council-gsc-vault.html">
            
                    
                    Governance Steering Council (GSC) Vault
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.1.3" data-path="timelock.html">
            
                <a href="timelock.html">
            
                    
                    Timelock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.4" data-path="treasury.html">
            
                <a href="treasury.html">
            
                    
                    Treasury
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.5" data-path="spender.html">
            
                <a href="spender.html">
            
                    
                    Spender
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.6" data-path="optimistic-grants.html">
            
                <a href="optimistic-grants.html">
            
                    
                    Optimistic Grants
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="5.1.7" data-path="optimistic-rewards.html">
            
                <a href="optimistic-rewards.html">
            
                    
                    Optimistic Rewards
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.8" data-path="simple-proxy.html">
            
                <a href="simple-proxy.html">
            
                    
                    Simple Proxy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.9" data-path="storage.html">
            
                <a href="storage.html">
            
                    
                    Storage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.1.10" data-path="history.html">
            
                <a href="history.html">
            
                    
                    History
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="5.2" >
            
                <a target="_blank" href="https://github.com/element-fi/council/tree/main/audits">
            
                    
                    Audits
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Community</li>
        
        
    
        <li class="chapter " data-level="6.1" >
            
                <a target="_blank" href="https://discord.com/invite/8JnDyXJJWh">
            
                    
                    Discord
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" >
            
                <a target="_blank" href="https://medium.com/element-finance">
            
                    
                    Medium
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" >
            
                <a target="_blank" href="https://twitter.com/element/_fi">
            
                    
                    Twitter
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" >
            
                <a target="_blank" href="https://t.me/elementfinance">
            
                    
                    Telegram Announcements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" >
            
                <a target="_blank" href="https://www.youtube.com/channel/UCwxX4xrw-AZF/_7dB7gVMaSw">
            
                    
                    Youtube (Community Calls and Video Guides)
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Optimistic Rewards</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="optimistic-rewards">Optimistic Rewards</h1>
<ul>
<li><strong>Contract Name:</strong> OptimisticRewards.sol</li>
<li><strong>Type/Category:</strong> Rewards/Governance</li>
<li><strong>Contract Source:</strong><a href="https://github.com/element-fi/council/blob/main/contracts/vaults/OptimisticRewards.sol" target="_blank">https://github.com/element-fi/council/blob/main/contracts/vaults/OptimisticRewards.sol</a></li>
</ul>
<h2 id="1-introduction-summary"><strong>1. Introduction (Summary)</strong></h2>
<p>The Optimistic Rewards contract is a system for allocating rewards over time without writing new rewards smart contracts. It allows a proposer to propose a new set of rewards and then, after a review period, it is made official. During the review period, governance can reject the proposed rewards.</p>
<p>The name optimistic comes from the fact that the mechanism is a play on an optimistic rollup, where the fraud proofs are governance votes but, instead of L2 transactions, the updates are new rewards balances.</p>
<h2 id="2-contract-details"><strong>2. Contract Details</strong></h2>
<p><strong>Key Functionalities:</strong></p>
<ul>
<li>The ability for addresses who have confirmed rewards to claim those rewards, or to claim them and then move them into the DAO to continue voting.</li>
<li>The ability for addresses who have confirmed rewards but have not claimed them to vote using them as votes.</li>
<li>A proposer can propose a new Merkle root encoding rewards.</li>
<li>Governance can reject a new Merkle root encoding rewards.</li>
</ul>
<p><strong>Storage layout:</strong></p>
<ul>
<li>A Merkle root containing confirmed rewards.</li>
<li>A mapping of how many rewards each address has claimed.</li>
<li>A proposed root and when it was proposed.</li>
<li>A challenge period length.</li>
</ul>
<h2 id="3-key-mechanisms--concepts"><strong>3. Key Mechanisms &amp; Concepts</strong></h2>
<p>Rewards systems voted in DAOs are often complex mathematical formulas on how much incentive to give to taking actions in the protocol. Each of these mechanisms must often be encoded into smart contracts. Given the security risk of smart contracts and implementation complexity, this naturally limits what can be done with rewards, how complex they are, and how fast they can change or be implemented. The optimistic rewards paradigm is a way to move rewards calculation off-chain and alleviate those limitations. To accomplish this, a proposer address is selected by governance. The proposer runs a deterministic program that calculates rewards, and then submits this on-chain for review. Community members also run the rewards program and, if fraud is detected, they can submit a DAO vote to remove the proposer and block the rewards. Given an active community, there is no incentive for a malicious proposer to submit rewards.</p>
<h2 id="4-gotchas-potential-source-of-user-error"><strong>4. Gotchas (Potential source of user error)</strong></h2>
<ul>
<li>Rewards Merkle roots must contain unique accounts, they must be append-only, and the accounts must only increase in rewards allocated. The root tracks the total all-time rewards granted.</li>
</ul>
<h2 id="5-failure-modes-bounds-on-operating-conditions--external-risk-factors"><strong>5. Failure Modes (Bounds on Operating Conditions &amp; External Risk Factors)</strong></h2>
<ul>
<li>An engaged community of verifiers of rewards is required for this system to work. The DAO should consider allocating rewards to chain watchers to encourage this.</li>
<li>The total tokens in this contract should be limited so that, if a bug or hack occurs, the risk is mitigated.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="optimistic-grants.html" class="navigation navigation-prev " aria-label="Previous page: Optimistic Grants">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="simple-proxy.html" class="navigation navigation-next " aria-label="Next page: Simple Proxy">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Optimistic Rewards","level":"5.1.7","depth":2,"next":{"title":"Simple Proxy","level":"5.1.8","depth":2,"path":"governance-council/council-protocol-smart-contracts/simple-proxy.md","ref":"governance-council/council-protocol-smart-contracts/simple-proxy.md","articles":[]},"previous":{"title":"Optimistic Grants","level":"5.1.6","depth":2,"path":"governance-council/council-protocol-smart-contracts/optimistic-grants.md","ref":"governance-council/council-protocol-smart-contracts/optimistic-grants.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["livereload"],"pluginsConfig":{"livereload":{},"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"governance-council/council-protocol-smart-contracts/optimistic-rewards.md","mtime":"2022-03-29T09:16:39.371Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2022-03-29T09:24:36.351Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

